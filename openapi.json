{
  "paths": {
    "/users": {
      "get": {
        "summary": "Retrieve a list of users.",
        "tags": ["Organization"],
        "responses": {
          "200": {
            "description": "A list of users.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Organization_User"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "summary": "Retrieve a single user by ID.",
        "tags": ["Organization"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "The user ID."
          }
        ],
        "responses": {
          "200": {
            "description": "A single user.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Organization_User"
                }
              }
            }
          },
          "404": {
            "description": "User not found."
          }
        }
      }
    },
    "/products": {
      "get": {
        "summary": "Retrieve a list of products.",
        "tags": ["Products"],
        "responses": {
          "200": {
            "description": "A list of products.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product_Product"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/products/{id}": {
      "get": {
        "summary": "Retrieve a single product by ID.",
        "tags": ["Products"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "The product ID."
          }
        ],
        "responses": {
          "200": {
            "description": "A single product.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product_Product"
                }
              }
            }
          },
          "404": {
            "description": "Product not found."
          }
        }
      }
    },
    "/entities": {
      "get": {
        "summary": "Retrieve a list of entities.",
        "tags": ["Entity"],
        "responses": {
          "200": {
            "description": "A list of entities.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entity_Entity"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/entities/{id}": {
      "get": {
        "summary": "Retrieve a single entity by ID.",
        "tags": ["Entity"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "The entity ID."
          }
        ],
        "responses": {
          "200": {
            "description": "A single entity.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Entity_Entity"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Entity not found."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/facilities": {
      "get": {
        "summary": "Retrieve a list of facilities.",
        "tags": ["Facilities"],
        "responses": {
          "200": {
            "description": "A list of facilities.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Facility_Facility"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/facilities/{id}": {
      "get": {
        "summary": "Retrieve a single facility by ID.",
        "tags": ["Facilities"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "The facility ID."
          }
        ],
        "responses": {
          "200": {
            "description": "A single facility.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Facility_Facility"
                }
              }
            }
          },
          "404": {
            "description": "Facility not found."
          }
        }
      }
    },
    "/terminals": {
      "get": {
        "summary": "Retrieve a list of terminals.",
        "tags": ["Facilities"],
        "responses": {
          "200": {
            "description": "A list of terminals.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Facility_Terminal"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/terminals/{id}": {
      "get": {
        "summary": "Retrieve a single terminal by ID.",
        "tags": ["Facilities"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "The terminal ID."
          }
        ],
        "responses": {
          "200": {
            "description": "A single terminal.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Facility_Terminal"
                }
              }
            }
          },
          "404": {
            "description": "Terminal not found."
          }
        }
      }
    }
  },
  "info": {
    "title": "Flux API",
    "version": "1.0.0"
  },
  "openapi": "3.0.2",
  "components": {
    "schemas": {
      "Entity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "organization_slug": {
            "type": "string",
            "default": null,
            "maxLength": 255,
            "nullable": true
          }
        },
        "required": ["name"]
      },
      "Organization_User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "stytch_id": {
            "type": "string",
            "maxLength": 255
          },
          "entity": {
            "$ref": "#/components/schemas/Entity"
          },
          "first_name": {
            "type": "string",
            "maxLength": 255
          },
          "last_name": {
            "type": "string",
            "maxLength": 255
          },
          "email": {
            "type": "string",
            "maxLength": 255
          },
          "phone": {
            "type": "string",
            "maxLength": 255
          },
          "title": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": [
          "email",
          "first_name",
          "last_name",
          "phone",
          "stytch_id",
          "title"
        ]
      },
      "Organization_UserRoles": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Organization_UserPermissions": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "code": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["code", "name"]
      },
      "Organization_UserUserRole": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "user": {
            "$ref": "#/components/schemas/Organization_User"
          },
          "role": {
            "$ref": "#/components/schemas/Organization_UserRoles"
          }
        }
      },
      "Organization_UserUserPermission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "user": {
            "$ref": "#/components/schemas/Organization_User"
          },
          "role": {
            "$ref": "#/components/schemas/Organization_UserPermissions"
          }
        }
      },
      "ProductCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Product_Product": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "short_code": {
            "type": "string",
            "maxLength": 255
          },
          "product_category": {
            "$ref": "#/components/schemas/ProductCategory"
          }
        },
        "required": ["name", "short_code"]
      },
      "Product_ProductCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Product_MeasurementUnit": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "abbreviation": {
            "type": "string",
            "maxLength": 255
          },
          "product_category": {
            "$ref": "#/components/schemas/Product_ProductCategory"
          }
        },
        "required": ["abbreviation", "name"]
      },
      "Product_MeasurementType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Product_ProductUnitConversion": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          },
          "from_unit": {
            "$ref": "#/components/schemas/Product_MeasurementUnit"
          },
          "to_unit": {
            "$ref": "#/components/schemas/Product_MeasurementUnit"
          },
          "conversion_factor": {
            "type": "number"
          }
        },
        "required": ["conversion_factor"]
      },
      "Product_ProductEqConversion": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          },
          "from_product": {
            "$ref": "#/components/schemas/Product_Product"
          },
          "to_product": {
            "$ref": "#/components/schemas/Product_Product"
          },
          "conversion_factor": {
            "type": "number"
          }
        },
        "required": ["conversion_factor"]
      },
      "Currency_Currency": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "symbol": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name", "symbol"]
      },
      "Currency_CurrencyConversion": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "from_currency": {
            "$ref": "#/components/schemas/Currency_Currency"
          },
          "to_currency": {
            "$ref": "#/components/schemas/Currency_Currency"
          },
          "exchange_rate": {
            "type": "number"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["exchange_rate"]
      },
      "Entity_Entity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "organization_slug": {
            "type": "string",
            "default": null,
            "maxLength": 255,
            "nullable": true
          }
        },
        "required": ["name"]
      },
      "Entity_Producer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          },
          "vertically_integrated": {
            "type": "boolean",
            "default": false
          }
        },
        "required": ["legal_name"]
      },
      "Entity_ProducerProducts": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "producer": {
            "$ref": "#/components/schemas/Entity_Producer"
          },
          "products": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "Entity_Carrier": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "Entity_CarrierProducts": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "carrier": {
            "$ref": "#/components/schemas/Entity_Carrier"
          },
          "products": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "Entity_Marketer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          },
          "vertically_integrated": {
            "type": "boolean",
            "default": false
          }
        },
        "required": ["legal_name"]
      },
      "Entity_MarketerProducts": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "marketer": {
            "$ref": "#/components/schemas/Entity_Marketer"
          },
          "products": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "Entity_Midstreamer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          },
          "vertically_integrated": {
            "type": "boolean",
            "default": false
          }
        },
        "required": ["legal_name"]
      },
      "Entity_Refiner": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "Entity_Government": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "Entity_EnvironmentalService": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "Entity_InfrastructureService": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "Entity_OilfieldService": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "legal_name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["legal_name"]
      },
      "PipelineType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Infrastructure_Pipeline": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "wadf": {
            "type": "string",
            "maxLength": 255
          },
          "pipeline_type": {
            "$ref": "#/components/schemas/PipelineType"
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          }
        },
        "required": ["name", "wadf"]
      },
      "Infrastructure_PipelineType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Infrastructure_PipelineProduct": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "pipeline": {
            "$ref": "#/components/schemas/Infrastructure_Pipeline"
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "RailLineType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "RailLineCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Infrastructure_RailLine": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          },
          "type": {
            "$ref": "#/components/schemas/RailLineType"
          },
          "category": {
            "$ref": "#/components/schemas/RailLineCategory"
          },
          "max_train_length": {
            "type": "number",
            "default": null,
            "nullable": true
          }
        }
      },
      "Infrastructure_RailLineType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Infrastructure_RailLineCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Infrastructure_RailLineCarrier": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "rail_line": {
            "$ref": "#/components/schemas/Infrastructure_RailLine"
          },
          "carrier": {
            "$ref": "#/components/schemas/Entity_Carrier"
          }
        }
      },
      "Infrastructure_RailLineProduct": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "rail_line": {
            "$ref": "#/components/schemas/Infrastructure_RailLine"
          },
          "products": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "Facility_Facility": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "latitude": {
            "type": "number"
          },
          "longitude": {
            "type": "number"
          },
          "lsd": {
            "type": "integer"
          },
          "section": {
            "type": "integer"
          },
          "township": {
            "type": "integer"
          },
          "range": {
            "type": "integer"
          },
          "meridian": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": [
          "latitude",
          "longitude",
          "lsd",
          "meridian",
          "range",
          "section",
          "township"
        ]
      },
      "Facility_Well": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "uwi": {
            "type": "string",
            "maxLength": 255
          },
          "facility": {
            "$ref": "#/components/schemas/Facility_Facility"
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          }
        },
        "required": ["uwi"]
      },
      "TerminalType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_Terminal": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "terminal_type": {
            "$ref": "#/components/schemas/TerminalType"
          },
          "facility": {
            "$ref": "#/components/schemas/Facility_Facility"
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          }
        },
        "required": ["name"]
      },
      "Facility_TerminalType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_TerminalConnectionType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_TerminalPipelineConnection": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "terminal": {
            "$ref": "#/components/schemas/Facility_Terminal"
          },
          "pipeline": {
            "$ref": "#/components/schemas/Infrastructure_Pipeline"
          },
          "connection_type": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/Facility_TerminalConnectionType"
              }
            ]
          }
        }
      },
      "Facility_TerminalRailineConnection": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "terminal": {
            "$ref": "#/components/schemas/Facility_Terminal"
          },
          "railine": {
            "$ref": "#/components/schemas/Infrastructure_RailLine"
          },
          "connection_type": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/Facility_TerminalConnectionType"
              }
            ]
          }
        }
      },
      "Facility_TerminalProduct": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "terminal": {
            "$ref": "#/components/schemas/Facility_Terminal"
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "PlantType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_Plant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "plant_type": {
            "$ref": "#/components/schemas/PlantType"
          },
          "facility": {
            "$ref": "#/components/schemas/Facility_Facility"
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          }
        },
        "required": ["name"]
      },
      "Facility_PlantType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_PlantProduct": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "plant": {
            "$ref": "#/components/schemas/Facility_Plant"
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      },
      "StorageType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_Storage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "storage_type": {
            "$ref": "#/components/schemas/StorageType"
          },
          "facility": {
            "$ref": "#/components/schemas/Facility_Facility"
          },
          "entity": {
            "$ref": "#/components/schemas/Entity_Entity"
          }
        },
        "required": ["name"]
      },
      "Facility_StorageType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "maxLength": 255
          }
        },
        "required": ["name"]
      },
      "Facility_StorageProduct": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "storage": {
            "$ref": "#/components/schemas/Facility_Storage"
          },
          "product": {
            "$ref": "#/components/schemas/Product_Product"
          }
        }
      }
    }
  }
}
